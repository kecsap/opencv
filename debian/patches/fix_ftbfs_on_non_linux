Description: Fix FTBFS on non linux
Forwarded: https://github.com/opencv/opencv/pull/9877
Last-Update: 2017-10-17

--- a/modules/core/src/parallel.cpp
+++ b/modules/core/src/parallel.cpp
@@ -52,7 +52,7 @@
     #undef abs
 #endif
 
-#if defined __linux__ || defined __APPLE__
+#if defined __linux__ || defined __APPLE__ ||  defined __GLIBC__
     #include <unistd.h>
     #include <stdio.h>
     #include <sys/types.h>
@@ -644,7 +644,7 @@
 #elif defined __ANDROID__
     static int ncpus = getNumberOfCPUsImpl();
     return ncpus;
-#elif defined __linux__
+#elif defined __linux__ || defined __GLIBC__
     return (int)sysconf( _SC_NPROCESSORS_ONLN );
 #elif defined __APPLE__
     int numCPU=0;
--- a/modules/core/src/system.cpp
+++ b/modules/core/src/system.cpp
@@ -202,7 +202,7 @@
 #include "omp.h"
 #endif
 
-#if defined __linux__ || defined __APPLE__ || defined __EMSCRIPTEN__ || defined __FreeBSD__
+#if defined __linux__ || defined __APPLE__ || defined __EMSCRIPTEN__ || defined __FreeBSD__ || defined __GLIBC__
 #include <unistd.h>
 #include <stdio.h>
 #include <sys/types.h>
